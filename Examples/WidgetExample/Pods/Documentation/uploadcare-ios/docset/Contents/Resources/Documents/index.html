<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<title>uploadcare-ios 0.0.1 Reference</title>
		<link rel="stylesheet" type="text/css" href="css/styles.css" media="all" />
		<link rel="stylesheet" type="text/css" media="print" href="css/stylesPrint.css" />
		<meta name="generator" content="appledoc 2.1 (build 840)" />
	</head>
	<body>
		<header id="top_header">
			<div id="library" class="hideInXcode">
				<h1><a id="libraryTitle" href="index.html">uploadcare-ios 0.0.1 </a></h1>
				<a id="developerHome" href="index.html">Artyom Loenko and Zoreslav Khimich</a>
			</div>
			
			<div id="title" role="banner">
				<h1 class="hideInXcode">uploadcare-ios 0.0.1 Reference</h1>
			</div>
			<ul id="headerButtons" role="toolbar"></ul>
		</header>
		<article>
			<div id="overview_contents" role="main">
				<div class="main-navigation navigation-top">
					<a href="hierarchy.html">Next</a>
				</div>
				<div id="header">
					<div class="section-header">
						<h1 class="title title-header">uploadcare-ios 0.0.1 Reference</h1>
					</div>		
				</div>
				<div id="container">
					
					<div class="section section-overview index-overview">
						
						
						<h2><a href="Classes/UploadcareKit.html">UploadcareKit</a> iOS SDK for <a href="http://uploadcare.com">Uploadcare</a></h2>

<h4>Set Up the iOS SDK</h4>

<p>We&rsquo;ve made it easy to setup the <a href="Classes/UploadcareKit.html">UploadcareKit</a> iOS SDK for Xcode by including an example app that you can use as a template. Before you can get started, go to <a href="http://uploadcare.com/accounts/create/">Uploadcare Sign Up</a> and register your new app. After registration you&rsquo;ll get public and secret keys that allow you to connect to Uploadcare API.</p>

<h4>Usage</h4>

<p>There are two ways to use <a href="Classes/UploadcareKit.html">UploadcareKit</a> iOS SDK:
 * add <a href="Classes/UploadcareKit.html">UploadcareKit</a> project direct to your project (with all sources and dependencies), just read about it above;
 * or connect it via <a href="#arc-support-and-static-library">Static Library with Headers</a> (for non-ARC projects or for different reasons).</p>

<h4>Build and run the example app</h4>

<p>The example project that included in the SDK contains all you need to understand basics of usage. The project is called <code>SimpleExample</code> and contains an example of how to upload file from your local storage, upload from URL, retrieve list of files from Uploadcare API, keep files, delete it and get file info.</p>

<p>Just open <code>UploadcareKit.xcworkspace</code> and select <code>SimpleExample</code> from build targets. Find <code>ViewController.m</code> in <code>SimpleExample</code> project, then goto <code>viewDidLoad</code> method and fill in the values for publicKey and secretKey with your app&rsquo;s key and secret.</p>

<p>``` objective-c
&ndash; (void)viewDidLoad
{</p>

<pre><code>// init UploadcareKit with public and secret
[[UploadcareKit shared] setPublicKey:@"your_public_key"
                           andSecret:@"your_secret_key"];

[super viewDidLoad];
</code></pre>

<p>}
```
Now you can build and run the example. Once running, make sure you can start the app and make request without getting errors. If Uploadcare API doesn&rsquo;t understand your keys you&rsquo;ll see warning in Debug Area:</p>

<p><code>` shell
Warning! You must specify public key and secret key! All you need to know you can find in documentation.
</code></p>

<p>Once you can successfully make requests, you can investigate app with abilities to upload files, getting list of local history, retrieve file list from Uploadcare API, delete of keep files. So, just have fun, but do not forget to check out the source code of <code>SimpleExample</code>. It&rsquo;s really simple. You&rsquo;ll see.</p>

<h4>Adding the Uploadcare SDK for iOS to your project</h4>

<p>Now, when we know that the Uploadcare SDK is working, you can add it to your own project. Just a few simple steps:</p>

<ul>
<li>open your project in Xcode;</li>
<li>navigate to where you clone the SDK, goto <code>`UploadcareKit`</code> folder and drag the <code>`UploadcareKit`.xcodeproj</code> into your project in Xcode;</li>
<li>you can select Copy items into destination group&rsquo;s folder or not, as you want (if not, you can just update <a href="Classes/UploadcareKit.html"><code>UploadcareKit</code></a> SDK from Github and have fresh version in very easy way);</li>
<li>press Add button</li>
<li>add <code>`UploadcareKit`.a</code> file to project dependencies. To do this in Xcode 4, select your project file in the file explorer, select your target, and select the Build Phases sub-tab. Under Link Binary with Libraries, press the + button, select <code>lib`UploadcareKit`.a</code>, and press Add.</li>
</ul>


<h2>Example Usage</h2>

<h3>Upload file from NSData</h3>

<p>For upload file from your local storage just specify NSData object and blocks you want to control (optional).<br/>
As you can see from example below, Uploadcare SDK will notify you about upload progress, success or failure.</p>

<p>``` objective-c
[[UploadcareKit shared] uploadFileWithName:@&ldquo;test_name&rdquo;</p>

<pre><code>                               andData:[NSData ...] 
                   uploadProgressBlock:^(NSInteger bytesWritten, long long totalBytesWritten, long long totalBytesExpectedToWrite) {

    NSLog(@"uploaded %lld : %lld : %lld", bytesWritten, totalBytesWritten, totalBytesExpectedToWrite);

} success:^(NSURLRequest *request, NSHTTPURLResponse *response, UploadcareFile *file) {

    NSLog(@"success -&gt; %@", response);

} failure:^(NSURLRequest *request, NSHTTPURLResponse *response, NSError *error) {
    NSLog(@"failure -&gt; %@\n%@", response, error);

}];
</code></pre>

<p>```</p>

<h3>Upload file from Web</h3>

<p>For upload file from Url or Web you can use very same method as for NSData, just specify Url of file and fill blocks you want to control (optional).</p>

<p>``` objective-c
[[UploadcareKit shared] uploadFileWithURL:[URL as NSString]</p>

<pre><code>                              success:^(NSURLRequest *request, NSHTTPURLResponse *response, UploadcareFile *file) {

    NSLog(@"success -&gt; %@", response);

} failure:^(NSURLRequest *request, NSHTTPURLResponse *response, NSError *error) {

    NSLog(@"failure -&gt; %@\n%@", response, error);

}];
</code></pre>

<p>```</p>

<h3>Keep file</h3>

<p>By default, Uploadcare API doesn&rsquo;t keep your file for a while and delete it after some time. So, if you want to keep your file forever just use keep function on early uploaded data. To keep you must store instances of UploadcareFile from previous uploads or retrieve it from Uploadcare API again.</p>

<p><code>`` objective-c
[</code>[UploadcareKit shared]`](Classes/UploadcareKit.html#//api/name/shared) keep:YES forFile:[UploadcareFile &hellip;]</p>

<pre><code>                success:^(NSHTTPURLResponse *response, id JSON, UploadcareFile *file) {

                         NSLog(@"file keep");

                     }
             andFailure:^(NSHTTPURLResponse *response, NSError *error) {

                         NSLog(@"!failure -&gt; %@\n%@", response, error);

                  }];
</code></pre>

<p>```</p>

<h3>Delete file</h3>

<p>If you want to remove file from your account for some reason, just delete. We will not disturb you.</p>

<p>``` objective-c
[[UploadcareKit shared] deleteFile:[UploadcareFile instance]</p>

<pre><code>                       success:^(NSHTTPURLResponse *response) {

                            NSLog(@"success deleted");

                  } andFailure:^(NSHTTPURLResponse *response, NSError *error) {

                            NSLog(@"!failure -&gt; %@\n%@", response, error);

             }];
</code></pre>

<p>```</p>

<h3>Get file info</h3>

<p>You can store only file_id to retrieve all additional info about it, see how:</p>

<p>``` objective-c
[[UploadcareKit shared] requestFile:file_id</p>

<pre><code>                    withSuccess:^(NSHTTPURLResponse *response, id JSON, UploadcareFile *file) {

    NSLog(@"success -&gt; %@", [file file_id]);

} andFailure:^(id responseObject, NSError *error) {

    NSLog(@"!failure -&gt; %@\n%@", response, error);

}];
</code></pre>

<p>```</p>

<h3>Get file list</h3>

<p>If you want, you can get the file list of all uploaded files from your account. Just do this:</p>

<p>``` objective-c
[[UploadcareKit shared] requestFileListWithSuccess:^(NSHTTPURLResponse <em>response, id JSON, NSArray </em>files) {</p>

<pre><code>        NSLog(@"success -&gt; %@", JSON);

    } andFailure:^(id responseObject, NSError *error) {

        NSLog(@"!failure -&gt; %@\n%@", response, error);

    }];
</code></pre>

<p>```</p>

<h2>In conclusion</h2>

<p>Now that you&rsquo;ve seen how to perform all the basic operations, you&rsquo;re ready to start building your app. More pragmatic information about SDK methods you can learn from Reference Documentation.</p>

<h2>Requirements</h2>

<p><a href="Classes/UploadcareKit.html"><code>UploadcareKit</code></a> for iOS requires either <code>iOS 4.3</code> and above. Project compatible with <code>Xcode 4.3</code> and above.</p>

<p><a href="Classes/UploadcareKit.html"><code>UploadcareKit</code></a> uses:</p>

<ul>
<li><a href="http://github.com/AFNetworking/AFNetworking/"><code>AFNetworking</code></a></li>
<li><a href="https://github.com/johnezang/JSONKit"><code>JSONKit</code></a></li>
</ul>


<h3><a id="arc_static">ARC Support and Static Library</a></h3>

<p><a href="Classes/UploadcareKit.html"><code>UploadcareKit</code></a> use ARC feature. So, if you want to use it with non-ARC project or just want to use as static library, you can do it. <br/>
Navigate to <code>#LIBRARY_DIR/`UploadcareKit`</code> and you&rsquo;ll see <code>build_uploadcarekit_ios_sdk_static_lib.sh</code> script. Open your favourite terminal, goto <code>#PROJECT_DIR/`UploadcareKit`</code> and run <code>./build_uploadcarekit_ios_sdk_static_lib.sh</code>, you&rsquo;ll see build log with some output:</p>

<p>```` Shell
<strong> BUILD SUCCEEDED </strong></p>

<p>Step 2 : Remove older SDK Directory
Step 3 : Create new SDK Directory Version
Step 4 : Create combine lib files for various platforms into one
Step 5 : Copy headers Needed
Finished Universal SDK Generation</p>

<p>You can now use the static library that can be found at:</p>

<h1>LIBRARY_DIR/UploadcareKit/lib/uploadcarekit-ios-sdk</h1>

<p>Just drag the uploadcarekit-ios-sdk directory into your project to include the <a href="Classes/UploadcareKit.html">UploadcareKit</a> iOS SDK static library
```</p>

<p>Once more: Just drag the uploadcarekit-ios-sdk directory into your project to include the <a href="Classes/UploadcareKit.html">UploadcareKit</a> iOS SDK static library. That all you need to do.</p>

<p>That&rsquo;s all folks!</p>
						
						
					</div>
					
                        
                    
					
					
					<div class="index-column">
						<h2 class="index-title">Class References</h2>
						<ul>
							
							<li><a href="Classes/UCAlbumsList.html">UCAlbumsList</a></li>
							
							<li><a href="Classes/UCAppDelegate.html">UCAppDelegate</a></li>
							
							<li><a href="Classes/UCGrabkitConfigurator.html">UCGrabkitConfigurator</a></li>
							
							<li><a href="Classes/UCMenuViewController.html">UCMenuViewController</a></li>
							
							<li><a href="Classes/UCPhotosList.html">UCPhotosList</a></li>
							
							<li><a href="Classes/UCPhotosListCell.html">UCPhotosListCell</a></li>
							
							<li><a href="Classes/UCRecentUploads.html">UCRecentUploads</a></li>
							
							<li><a href="Classes/UCRecentUploadsViewController.html">UCRecentUploadsViewController</a></li>
							
							<li><a href="Classes/UCUploadNavigationController.html">UCUploadNavigationController</a></li>
							
							<li><a href="Classes/UCUploadViewController.html">UCUploadViewController</a></li>
							
							<li><a href="Classes/UploadCareProgressView.html">UploadCareProgressView</a></li>
							
							<li><a href="Classes/UploadcareKit.html">UploadcareKit</a></li>
							
							<li><a href="Classes/UploadcareServicesConfigurator.html">UploadcareServicesConfigurator</a></li>
							
							<li><a href="Classes/UploadcareStatusWatcher.html">UploadcareStatusWatcher</a></li>
							
						</ul>
					</div>
					
					
						
					<div class="index-column">
						
						
						<h2 class="index-title">Category References</h2>
						<ul>
							
							<li><a href="Categories/UIImage+UCHelpers.html">UIImage(UCHelpers)</a></li>
							
							<li><a href="Categories/UIImageView+UCHelpers.html">UIImageView(UCHelpers)</a></li>
							
						</ul>
						
					</div>
					
				</div>
				<div class="main-navigation navigation-bottom">
					<a href="hierarchy.html">Next</a>
				</div>
				<div id="footer">
					<hr />
					<div class="footer-copyright">
						<p><span class="copyright">&copy; 2012 Artyom Loenko and Zoreslav Khimich. All rights reserved. (Last updated: 2012-12-03)</span><br />
						
						<span class="generator">Generated by <a href="http://appledoc.gentlebytes.com">appledoc 2.1 (build 840)</a>.</span></p>
						
	
					</div>
				</div>
			</div>
		</article>		
	</body>
</html>